var fs=require("fs"),path=require("path"),archiver=require("archiver");const md5File=require("md5-file");var outputFile=path.join(__dirname,"charting_library.17.025.02b61a1c.zip");const outFilename=path.basename(outputFile);var ignoreFiles=[path.basename(__filename),outFilename,outFilename+".md5","install-charting-library.js","scss","scss/**","base.css","darkTheme.css","midnightTheme.css","lightTheme.css"];function zipDirectory(e,i){const r=archiver("zip",{zlib:{level:9}}),t=fs.createWriteStream(i);return new Promise(((i,s)=>{r.glob("**",{cwd:e,ignore:ignoreFiles}).on("error",(e=>s(e))).pipe(t),t.on("close",(()=>i())),r.finalize()}))}function getMD5Digest(e){return md5File.sync(e).toUpperCase()}zipDirectory(__dirname,outputFile).then((()=>{console.log("Input folder compressed to "+outputFile);var e=getMD5Digest(outputFile);console.log("MD5: "+e),fs.writeFileSync(outputFile+".md5",e),process.exit(0)}));